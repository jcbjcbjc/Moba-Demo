{"version":3,"sources":["file:///D:/LearningFrameWork/MobaYan/Moba/Src/Client/assets/Scripts/UI/Match/UIMatchWait.ts"],"names":["_decorator","Label","UIWindow","DataManager","TipsManager","ccclass","property","UIMatchWait","start","startTime","Date","getTime","this_","timer","setInterval","num","parseInt","matchNum","string","Instance","gameConfig","MaxMatchTime","showTips","clearInterval","Close","onDestroy"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAA6BC,MAAAA,K,OAAAA,K;;AAC7BC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,W,iBAAAA,W;;AACAC,MAAAA,W,iBAAAA,W;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;6BAGjBO,W,WADZF,OAAO,CAAC,aAAD,C,UAGHC,QAAQ,CAACL,KAAD,C,oCAHb,MACaM,WADb;AAAA;AAAA,gCAC0C;AAAA;AAAA;;AAAA;;AAAA,yCAKxB,IALwB;;AAAA,uCAMnB,CANmB;AAAA;;AAQtCC,QAAAA,KAAK,GAAI;AACR,cAAIC,SAAS,GAAC,IAAIC,IAAJ,GAAWC,OAAX,EAAd;AACA,cAAIC,KAAK,GAAC,IAAV;AACA,eAAKC,KAAL,GAAWC,WAAW,CAAC,YAAU;AAC9BF,YAAAA,KAAK,CAACG,GAAN,GAAUC,QAAQ,CAAC,CAAC,IAAIN,IAAJ,GAAWC,OAAX,KAAqBF,SAAtB,IAAiC,IAAjC,GAAsC,EAAvC,CAAR,GAAmD,CAA7D;AACAG,YAAAA,KAAK,CAACK,QAAN,CAAeC,MAAf,GAAsBN,KAAK,CAACG,GAAN,GAAU,EAAhC,CAF8B,CAG9B;;AACA,gBAAG;AAAA;AAAA,4CAAYI,QAAZ,CAAqBC,UAArB,CAAgCC,YAAhC,IAAgDT,KAAK,CAACG,GAAN,GAAU,CAA7D,EAA+D;AAC3D;AAAA;AAAA,8CAAYI,QAAZ,CAAqBG,QAArB,CAA8B,MAA9B;AACAC,cAAAA,aAAa,CAACX,KAAK,CAACC,KAAP,CAAb;AACAD,cAAAA,KAAK,CAACY,KAAN;AACH;AACF,WAToB,EASnB,IATmB,CAAtB;AAUA;;AAEDC,QAAAA,SAAS,GAAE;AACPF,UAAAA,aAAa,CAAC,KAAKV,KAAN,CAAb;AACH;;AAzBqC,O;;;;;iBAGrB,I","sourcesContent":["\r\nimport { _decorator, Component, Node, Label } from 'cc';\r\nimport { UIWindow } from '../Common/UIWindow';\r\nimport { DataManager } from '../../Managers/DataManager';\r\nimport { TipsManager } from '../TipsManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UIMatchWait')\r\nexport class UIMatchWait extends UIWindow {\r\n  \r\n    @property(Label)\r\n    private matchNum=null as unknown as Label;\r\n\r\n    private timer=null;\r\n    private num:number=1;\r\n\r\n    start () {\r\n     let startTime=new Date().getTime();\r\n     let this_=this;  \r\n     this.timer=setInterval(function(){\r\n        this_.num=parseInt((new Date().getTime()-startTime)/1000+'')+1;\r\n        this_.matchNum.string=this_.num+'';\r\n        //匹配超时\r\n        if(DataManager.Instance.gameConfig.MaxMatchTime <= this_.num-1){   \r\n            TipsManager.Instance.showTips(\"匹配超时\");\r\n            clearInterval(this_.timer);\r\n            this_.Close();\r\n        }\r\n      },1000)   \r\n    }\r\n\r\n    onDestroy(){\r\n        clearInterval(this.timer);\r\n    }\r\n\r\n}\r\n"]}