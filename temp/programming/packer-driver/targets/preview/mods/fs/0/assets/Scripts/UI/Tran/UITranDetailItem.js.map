{"version":3,"sources":["file:///D:/LearningFrameWork/MobaYan/Moba/Src/Client/assets/Scripts/UI/Tran/UITranDetailItem.ts"],"names":["_decorator","Component","Label","Sprite","proto","EventManager","LoadResUtil","ccclass","property","NItem","Result","UITranDetailItem","start","SetItemInfo","item","itemDefine","index","uiTran","imgSprite","spriteFrame","load_local_sprite","Icon","nameLabel","string","Name","countLabel","count","priceLabel","money","descLabel","Description","onDestroy","console","log","Instance","removeAll"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAESA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAyBC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,M,OAAAA,M;;AAC9CC,MAAAA,K;;AAGEC,MAAAA,Y,iBAAAA,Y;;AAGAC,MAAAA,W,iBAAAA,W;;;;;;;OAWH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;OACxB;AAAES,QAAAA,KAAF;AAASC,QAAAA;AAAT,O;;;;kCAGOC,gB,WADZJ,OAAO,CAAC,kBAAD,C,UAGHC,QAAQ,CAACN,KAAD,C,UAERM,QAAQ,CAACN,KAAD,C,UAERM,QAAQ,CAACN,KAAD,C,UAERM,QAAQ,CAACN,KAAD,C,UAERM,QAAQ,CAACL,MAAD,C,oCAXb,MACaQ,gBADb,SACsCV,SADtC,CACgD;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,yCAavB,CAbuB;;AAAA,8CAczB,IAdyB;;AAAA,0CAe7B,IAf6B;AAAA;;AAiB5CW,QAAAA,KAAK,GAAI,CAER;;AAGYC,QAAAA,WAAW,CAACC,IAAD,EAAaC,UAAb,EAAoCC,KAApC,EAAqDC,MAArD,EAAmE;AAAA;;AAAA;AAAA,gBAA/BD,KAA+B;AAA/BA,cAAAA,KAA+B,GAAlB,CAAC,CAAiB;AAAA;;AACzF,gBAAGA,KAAK,IAAI,CAAC,CAAb,EAAe;AACb,cAAA,KAAI,CAACA,KAAL,GAAWA,KAAX;AACD;;AACD,YAAA,KAAI,CAACC,MAAL,GAAYA,MAAZ;AACA,YAAA,KAAI,CAACF,UAAL,GAAiBA,UAAjB;AACA,YAAA,KAAI,CAACG,SAAL,CAAeC,WAAf,SAAiC;AAAA;AAAA,4CAAYC,iBAAZ,CAA8B,KAAI,CAACL,UAAL,CAAgBM,IAAhB,GAAqB,cAAnD,CAAjC;AACA,YAAA,KAAI,CAACC,SAAL,CAAeC,MAAf,GAAsB,KAAI,CAACR,UAAL,CAAgBS,IAAtC;AACA,YAAA,KAAI,CAACC,UAAL,CAAgBF,MAAhB,GAAuB,QAAMT,IAAI,CAACY,KAAlC;AACA,YAAA,KAAI,CAACC,UAAL,CAAgBJ,MAAhB,GAAuB,QAAMT,IAAI,CAACc,KAAlC;AACA,YAAA,KAAI,CAACC,SAAL,CAAeN,MAAf,GAAsB,QAAM,KAAI,CAACR,UAAL,CAAgBe,WAA5C;AAVyF;AAW1F;;AAEDC,QAAAA,SAAS,GAAE;AACPC,UAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACA;AAAA;AAAA,4CAAaC,QAAb,CAAsBC,SAAtB,CAAgC,IAAhC;AACH;;AAtC2C,O;;;;;iBAG3B,I;;;;;;;iBAEC,I;;;;;;;iBAEA,I;;;;;;;iBAED,I;;;;;;;iBAEA,I","sourcesContent":["import { ListViewItem } from \"../Common/ListView/ListViewItem\";\r\n\r\nimport { _decorator, Component, Node, Prefab, Label, Sprite, SystemEventType, SpriteFrame, Button } from 'cc';\r\nimport proto from '../../../Proto/proto.js';\r\nimport { UIWindow } from '../Common/UIWindow';\r\nimport { User } from '../../Models/User';\r\nimport { EventManager } from \"../Common/Event/EventManager\";\r\nimport { ListView } from \"../Common/ListView/ListView\";\r\nimport { DataManager } from \"../../Managers/DataManager\";\r\nimport { LoadResUtil } from \"../../Utils/LoadResUtil\";\r\nimport { EventType } from \"../Common/Event/EventType\";\r\nimport { ItemService } from \"../../Services/ItemService\";\r\nimport { MessageBox,MessageBoxType } from \"../Common/MessageBox\";\r\nimport { ItemDefine } from \"../../Data/ItemDefine\";\r\nimport { InputBox } from \"../Common/InputBox\";\r\nimport { Validate } from \"../../Utils/Validate\";\r\nimport { TipsManager } from \"../TipsManager\";\r\nimport { ItemManager } from \"../../Managers/ItemManager\";\r\nimport { UITran } from \"./UITran\";\r\nimport { ShopItemDefine } from \"../../Data/ShopItemDefine\";\r\nconst { ccclass, property } = _decorator;\r\nconst { NItem, Result } = proto;\r\n\r\n@ccclass('UITranDetailItem')\r\nexport class UITranDetailItem extends Component {\r\n\r\n    @property(Label)\r\n    public nameLabel=null as unknown as Label;\r\n    @property(Label)\r\n    public countLabel=null as unknown as Label;\r\n    @property(Label)\r\n    public priceLabel=null as unknown as Label;\r\n    @property(Label)\r\n    public descLabel=null as unknown as Label;\r\n    @property(Sprite)\r\n    public imgSprite=null as unknown as Sprite;\r\n\r\n    private index:number=0;\r\n    private itemDefine=null as unknown as ItemDefine; \r\n    private uiTran=null as unknown as UITran; \r\n\r\n    start () {\r\n\r\n    }  \r\n\r\n \r\n    public async SetItemInfo(item:NItem, itemDefine:ItemDefine, index:number=-1, uiTran:UITran){\r\n      if(index != -1){\r\n        this.index=index;\r\n      }\r\n      this.uiTran=uiTran;\r\n      this.itemDefine= itemDefine;\r\n      this.imgSprite.spriteFrame=await LoadResUtil.load_local_sprite(this.itemDefine.Icon+'/spriteFrame');\r\n      this.nameLabel.string=this.itemDefine.Name;\r\n      this.countLabel.string='数量：'+item.count;\r\n      this.priceLabel.string='价格：'+item.money;\r\n      this.descLabel.string='描述：'+this.itemDefine.Description;\r\n    }\r\n\r\n    onDestroy(){\r\n        console.log('onDestroy')\r\n        EventManager.Instance.removeAll(this);\r\n    }\r\n}"]}