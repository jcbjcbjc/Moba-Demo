{"version":3,"sources":["file:///D:/LearningFrameWork/MobaYan/Moba/Src/Client/assets/Scripts/UI/Common/TabView/TabButton.ts"],"names":["_decorator","Component","Sprite","SpriteFrame","Button","EventManager","ccclass","property","TabButton","start","tabSprite","getComponent","btn","normalSpriteFrame","spriteFrame","clickEvents","push","Instance","createButtonClickEvent","node","SelectBtn","select","active","console","log","normalSprite","activeSpriteFrame","OnClick","tabView","SelectTab","tabIndex"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,M,OAAAA,M;;AAElDC,MAAAA,Y,iBAAAA,Y;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;2BAGjBQ,S,WADZF,OAAO,CAAC,WAAD,C,UAEHC,QAAQ,CAACJ,WAAD,C,oCAFb,MACaK,SADb,SAC+BP,SAD/B,CACyC;AAAA;AAAA;;AAAA;;AAAA,qDAGC,IAHD;;AAAA,2CAKd,IALc;;AAAA,4CAOZ,CAPY;;AAAA,4CAQX,KARW;;AAAA,6CAUZ,IAVY;;AAAA,uCAWlB,IAXkB;AAAA;;AAWU;AAClD;AACAQ,QAAAA,KAAK,GAAI;AAAA;;AACF,eAAKC,SAAL,GAAiB,KAAKC,YAAL,CAAkBT,MAAlB,CAAjB;AACA,eAAKU,GAAL,GAAS,KAAKD,YAAL,CAAkBP,MAAlB,CAAT;AAEA,eAAKS,iBAAL,GAAyB,KAAKH,SAAL,CAAeI,WAAxC;AAEA,qCAAKH,YAAL,CAAkBP,MAAlB,2EAA2BW,WAA3B,CAAuCC,IAAvC,CAA4C;AAAA;AAAA,4CAAaC,QAAb,CAAsBC,sBAAtB,CAA6C,KAAKC,IAAlD,EAAuD,WAAvD,EAAmE,SAAnE,CAA5C;AACN;;AAESC,QAAAA,SAAS,CAACC,MAAD,EAChB;AACI,cAAG,CAAC,KAAKF,IAAL,CAAUG,MAAd,EAAqB;AACjB;AACH;;AACDC,UAAAA,OAAO,CAACC,GAAR,CAAY,sBAAoBH,MAAhC;AACD,eAAKT,GAAL,CAASa,YAAT,GAAuB,KAAKf,SAAL,CAAeI,WAAf,GAA6BO,MAAM,GAAG,KAAKK,iBAAR,GAA4B,KAAKb,iBAA3F;AACF;;AAEmB,cAAPc,OAAO,GACpB;AACI,eAAKC,OAAL,CAAaC,SAAb,CAAuB,KAAKC,QAA5B;AACH;;AAlCoC,O;;;;;iBAEA,I","sourcesContent":["import { _decorator, Component, Node, Sprite, SpriteFrame, Button, Label, director, EventHandler } from 'cc';\r\nimport { TabView } from './TabView';\r\nimport { EventManager } from '../Event/EventManager';\r\nimport { LoadResUtil } from '../../../Utils/LoadResUtil';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('TabButton')\r\nexport class TabButton extends Component {\r\n    @property(SpriteFrame)\r\n    public activeSpriteFrame:SpriteFrame=null as unknown as SpriteFrame;     //选中状态图片\r\n    private normalSpriteFrame:SpriteFrame=null as unknown as SpriteFrame;  //未选中图片\r\n\r\n    public tabView:TabView=null as unknown as TabView;  \r\n\r\n    public tabIndex:number = 0;\r\n    public selected:boolean = false;\r\n\r\n    private tabSprite:Sprite=null as unknown as Sprite;  //图片对象\r\n    private btn:Button=null as unknown as Button;  //按钮\r\n\t// Use this for initialization\r\n\tstart () {\r\n        this.tabSprite = this.getComponent(Sprite) as Sprite;\r\n        this.btn=this.getComponent(Button) as Button;\r\n        \r\n        this.normalSpriteFrame = this.tabSprite.spriteFrame as SpriteFrame;\r\n\r\n        this.getComponent(Button)?.clickEvents.push(EventManager.Instance.createButtonClickEvent(this.node,\"TabButton\",\"OnClick\"));\r\n\t}\r\n\r\n    public SelectBtn(select:boolean):void\r\n    {\r\n        if(!this.node.active){\r\n            return;\r\n        }\r\n        console.log('SelectBtn select='+select)\r\n       this.btn.normalSprite= this.tabSprite.spriteFrame = select ? this.activeSpriteFrame : this.normalSpriteFrame;\r\n    }\r\n\r\n    public async OnClick():void\r\n    {\r\n        this.tabView.SelectTab(this.tabIndex);\r\n    }\r\n}"]}