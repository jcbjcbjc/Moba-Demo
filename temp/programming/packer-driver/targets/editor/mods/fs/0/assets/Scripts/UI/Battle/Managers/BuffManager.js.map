{"version":3,"sources":["file:///D:/LearningFrameWork/MobaYan/Moba/Src/Client/assets/Scripts/UI/Battle/Managers/BuffManager.ts"],"names":["BuffManager","Buff","BuffID","idx","constructor","creature","Array","Owner","AddBuf","context","define","buff","Buffs","push","LogicUpdate","i","length","Stoped","splice"],"mappings":";;;oCAKaA,W;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAJJC,MAAAA,I,iBAAAA,I;;;;;;;6BAIID,W,GAAN,MAAMA,WAAN,CAAiB;AAKF,YAANE,MAAM,GAClB;AACI,iBAAO,KAAKC,GAAL,EAAP;AACH;;AAEMC,QAAAA,WAAW,CAACC,QAAD,EAClB;AAAA;;AAAA,yCATc,IAAIC,KAAJ,EASd;;AAAA,uCAPqB,CAOrB;;AACI,eAAKC,KAAL,GAAaF,QAAb;AACH;;AAEMG,QAAAA,MAAM,CAACC,OAAD,EAAwBC,MAAxB,EACb;AACI,cAAIC,IAAI,GAAG;AAAA;AAAA,4BAAS,KAAKT,MAAd,EAAqB,KAAKK,KAA1B,EAAiCG,MAAjC,EAAyCD,OAAzC,CAAX;AACA,eAAKG,KAAL,CAAWC,IAAX,CAAgBF,IAAhB;AACH;;AAEMG,QAAAA,WAAW,GAClB;AACI,eAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,KAAKH,KAAL,CAAWI,MAA9B,EAAsCD,CAAC,EAAvC,EACA;AACI,gBAAI,CAAC,KAAKH,KAAL,CAAWG,CAAX,EAAcE,MAAnB,EAA4B;AAC5B;AACI,qBAAKL,KAAL,CAAWG,CAAX,EAAcD,WAAd;AACH,eAHD,MAGK;AAAG;AACJ,mBAAKF,KAAL,CAAWM,MAAX,CAAkBH,CAAlB,EAAoB,CAApB;AACAA,cAAAA,CAAC;AACJ;AACJ;AACJ;;AAjCmB,O","sourcesContent":["import { Creature } from \"../Enities/Creature\";\r\nimport { Buff } from \"../Models/Buff\";\r\nimport { BattleContext } from \"../Models/BattleContext\";\r\nimport { BuffDefine } from \"../../../Data/BuffDefine\";\r\n\r\nexport class BuffManager{\r\n    private Owner:Creature;\r\n    private Buffs=new Array<Buff>();\r\n\r\n    private idx:number = 1;\r\n    private get BuffID()\r\n    {\r\n        return this.idx++; \r\n    }\r\n\r\n    public constructor(creature:Creature)\r\n    {\r\n        this.Owner = creature;\r\n    }\r\n\r\n    public AddBuf(context:BattleContext, define:BuffDefine)\r\n    {\r\n        let buff = new Buff(this.BuffID,this.Owner, define, context);\r\n        this.Buffs.push(buff);\r\n    }\r\n\r\n    public LogicUpdate()\r\n    {\r\n        for(let i = 0; i < this.Buffs.length; i++)\r\n        {\r\n            if (!this.Buffs[i].Stoped)  //未停止\r\n            {\r\n                this.Buffs[i].LogicUpdate();\r\n            }else{  //停止删除\r\n                this.Buffs.splice(i,1);\r\n                i--;\r\n            }\r\n        }\r\n    }\r\n}"]}