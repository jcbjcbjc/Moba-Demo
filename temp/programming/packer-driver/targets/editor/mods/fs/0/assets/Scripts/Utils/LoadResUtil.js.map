{"version":3,"sources":["file:///D:/LearningFrameWork/MobaYan/Moba/Src/Client/assets/Scripts/Utils/LoadResUtil.ts"],"names":["LoadResUtil","SpriteFrame","loader","AudioClip","resources","loadPrefab","load_url","Promise","resolve","reject","loadRes","err","loadedResource","loadConfig","path","cc","data","text","load_local_sprite","load","spriteFrame","load_local_AudioClip","audioClip"],"mappings":";;;4DAEaA,W;;;;;;;AAFJC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,S,OAAAA,S;;;;;;;6BAE5BJ,W,GAAN,MAAMA,WAAN,CAAiB;AACpB;AACJ;AACA;AACA;AAC4B,eAAVK,UAAU,CAACC,QAAD,EAAgC;AACtD,iBAAO,IAAIC,OAAJ,CAAoB,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC9CP,YAAAA,MAAM,CAACQ,OAAP,CAAeJ,QAAf,EAAyB,CAACK,GAAD,EAAMC,cAAN,KAAyB;AAC9C,kBAAGD,GAAH,EAAO;AACHF,gBAAAA,MAAM,CAACE,GAAD,CAAN;AACH,eAFD,MAEK;AACDH,gBAAAA,OAAO,CAACI,cAAD,CAAP;AACH;AACJ,aAND;AAOD,WARM,CAAP;AASD;AAED;AACJ;AACA;AACA;;;AAC4B,eAAVC,UAAU,CAACC,IAAD,EAAwB;AAC5C,iBAAO,IAAIP,OAAJ,CAAoB,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC5CM,YAAAA,EAAE,CAACb,MAAH,CAAUQ,OAAV,CAAkBI,IAAlB,EAAwB,CAACH,GAAD,EAAMK,IAAN,KAA6B;AACjD,kBAAIL,GAAJ,EAAS;AACLF,gBAAAA,MAAM,CAACE,GAAD,CAAN;AACH,eAFD,MAEO;AACHH,gBAAAA,OAAO,CAACQ,IAAI,CAACC,IAAN,CAAP;AACH;AACJ,aAND;AAOH,WARM,CAAP;AASH;AAEA;AACL;AACA;AACA;;;AACmC,eAAjBC,iBAAiB,CAACZ,QAAD,EAAgC;AAC5D,iBAAO,IAAIC,OAAJ,CAAiB,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC5CL,YAAAA,SAAS,CAACe,IAAV,CAAeb,QAAf,EAAwBL,WAAxB,EAAqC,UAASU,GAAT,EAAaS,WAAb,EAAyB;AAC1D,kBAAGT,GAAH,EAAO;AACHF,gBAAAA,MAAM,CAACE,GAAD,CAAN;AACH,eAFD,MAEK;AACDH,gBAAAA,OAAO,CAACY,WAAD,CAAP;AACH;AAEJ,aAPD;AAQD,WATO,CAAP;AAUF;AAED;AACJ;AACA;AACA;;;AACsC,eAApBC,oBAAoB,CAACf,QAAD,EAAsC;AACpE,iBAAO,IAAIC,OAAJ,CAAuB,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAClDM,YAAAA,EAAE,CAACb,MAAH,CAAUQ,OAAV,CAAkBJ,QAAlB,EAA2BH,SAA3B,EAAsC,UAASQ,GAAT,EAAaW,SAAb,EAAiC;AACnE,kBAAGX,GAAH,EAAO;AACHF,gBAAAA,MAAM,CAACE,GAAD,CAAN;AACH,eAFD,MAEK;AACDH,gBAAAA,OAAO,CAACc,SAAD,CAAP;AACH;AACJ,aAND;AAOD,WARO,CAAP;AASF;;AAhEkB,O","sourcesContent":["import { SpriteFrame, loader, AudioClip, resources } from \"cc\";\r\n\r\nexport class LoadResUtil{\r\n    /**\r\n     * 加载prefab\r\n     * @param load_url \r\n     */\r\n    public static loadPrefab(load_url:string) : Promise<any>{\r\n      return new Promise<string>((resolve, reject) => {          \r\n        loader.loadRes(load_url, (err, loadedResource) => {\r\n            if(err){\r\n                reject(err);\r\n            }else{\r\n                resolve(loadedResource);\r\n            }\r\n        });\r\n      });\r\n    }\r\n\r\n    /**\r\n     * 加载文本文件\r\n     * @param json_name \r\n     */\r\n    public static loadConfig(path): Promise<string> {\r\n        return new Promise<string>((resolve, reject) => {\r\n            cc.loader.loadRes(path, (err, data: cc.JsonAsset) => {\r\n                if (err) {\r\n                    reject(err);\r\n                } else {\r\n                    resolve(data.text);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n     /**\r\n     * 加载本地图片\r\n     * @param load_url  \r\n     */\r\n    public static load_local_sprite(load_url:string): Promise<any> {\r\n       return new Promise<any>((resolve, reject) => {\r\n        resources.load(load_url,SpriteFrame, function(err,spriteFrame){\r\n            if(err){\r\n                reject(err);\r\n            }else{\r\n                resolve(spriteFrame);\r\n            }\r\n            \r\n        });\r\n      });\r\n    }\r\n\r\n    /**\r\n     * 加载音效资源\r\n     * @param load_url \r\n     */\r\n    public static load_local_AudioClip(load_url:string): Promise<AudioClip> {\r\n        return new Promise<AudioClip>((resolve, reject) => {\r\n         cc.loader.loadRes(load_url,AudioClip, function(err,audioClip:AudioClip){\r\n             if(err){\r\n                 reject(err);\r\n             }else{\r\n                 resolve(audioClip);\r\n             }\r\n         });\r\n       });\r\n     }\r\n}"]}