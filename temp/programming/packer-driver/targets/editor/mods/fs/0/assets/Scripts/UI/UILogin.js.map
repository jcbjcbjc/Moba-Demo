{"version":3,"sources":["file:///D:/LearningFrameWork/MobaYan/Moba/Src/Client/assets/Scripts/UI/UILogin.ts"],"names":["_decorator","Component","EditBox","Button","proto","MessageBox","SoundManager","SoundDefine","UserService","Result","UserLoginResponse","NUser","ccclass","property","UILogin","start","username","_edTxt","autocomplete","Instance","PlayMusic","Music_Login","OnClickLogin","console","log","string","Show","password","PlaySound","SFX_UI_Click","SendLogin","OnClickRegister","SendRegister"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAA+DC,MAAAA,O,OAAAA,O;AAASC,MAAAA,M,OAAAA,M;;AAGtFC,MAAAA,K;;AAEEC,MAAAA,U,iBAAAA,U;;AAIAC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,W,iBAAAA,W;;AACAC,MAAAA,W,iBAAAA,W;;;;;;;OAIH;AAAEC,QAAAA,MAAF;AAAUC,QAAAA,iBAAV;AAA6BC,QAAAA;AAA7B,O;;;OACA;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBb,U;;yBAGjBc,O,WADZF,OAAO,CAAC,SAAD,C,UAGHC,QAAQ,CAACX,OAAD,C,UAERW,QAAQ,CAACX,OAAD,C,UAERW,QAAQ,CAACV,MAAD,C,UAERU,QAAQ,CAACV,MAAD,C,oCATb,MACaW,OADb,SAC6Bb,SAD7B,CACuC;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAWxB,cAALc,KAAK,GAAG;AACV,eAAKC,QAAL,CAAc,OAAd,EAAuBC,MAAvB,CAA8BC,YAA9B,GAA6C,KAA7C;AAEA;AAAA;AAAA,4CAAaC,QAAb,CAAsBC,SAAtB,CAAgC;AAAA;AAAA,0CAAYC,WAA5C,EAHU,CAIV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEH;AAED;AACJ;AACA;;;AACWC,QAAAA,YAAY,GAAS;AACxBC,UAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;;AACA,cAAI,CAAC,KAAKR,QAAL,CAAcS,MAAnB,EAA2B;AACvB;AAAA;AAAA,0CAAWC,IAAX,CAAgB,OAAhB;AACA;AACH;;AACD,cAAI,CAAC,KAAKC,QAAL,CAAcF,MAAnB,EAA2B;AACvB;AAAA;AAAA,0CAAWC,IAAX,CAAgB,OAAhB;AACA;AACH;;AACD;AAAA;AAAA,4CAAaP,QAAb,CAAsBS,SAAtB,CAAgC;AAAA;AAAA,0CAAYC,YAA5C,EAVwB,CAWxB;;AACA;AAAA;AAAA,0CAAYV,QAAZ,CAAqBW,SAArB,CAA+B,KAAKd,QAAL,CAAcS,MAA7C,EAAqD,KAAKE,QAAL,CAAcF,MAAnE;AAEH;AAGD;AACJ;AACA;;;AACWM,QAAAA,eAAe,GAAS;AAC3B,cAAI,CAAC,KAAKf,QAAL,CAAcS,MAAnB,EAA2B;AACvB;AAAA;AAAA,0CAAWC,IAAX,CAAgB,OAAhB;AACA;AACH;;AACD,cAAI,CAAC,KAAKC,QAAL,CAAcF,MAAnB,EAA2B;AACvB;AAAA;AAAA,0CAAWC,IAAX,CAAgB,OAAhB;AACA;AACH;;AACD;AAAA;AAAA,4CAAaP,QAAb,CAAsBS,SAAtB,CAAgC;AAAA;AAAA,0CAAYC,YAA5C;AACA;AAAA;AAAA,0CAAYV,QAAZ,CAAqBa,YAArB,CAAkC,KAAKhB,QAAL,CAAcS,MAAhD,EAAwD,KAAKE,QAAL,CAAcF,MAAtE;AACH;;AA/DkC,O;;;;;iBAGR,I;;;;;;;iBAEA,I;;;;;;;iBAEE,I;;;;;;;iBAEG,I","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport { _decorator, Component, Node, director, view, ResolutionPolicy, sys, macro, EditBox, Button } from 'cc';\r\nimport { UIManager } from './Common/UIManager';\r\nimport { LoadResUtil } from '../Utils/LoadResUtil';\r\nimport proto from '../../Proto/proto.js';\r\nimport { UIMessageBox } from './Common/UIMessageBox';\r\nimport { MessageBox, MessageBoxType } from './Common/MessageBox';\r\nimport { EventManager } from './Common/Event/EventManager';\r\nimport { EventType } from './Common/Event/EventType';\r\nimport { LogUtil } from '../Log/LogUtil';\r\nimport { SoundManager } from '../../Sound/SoundManager';\r\nimport { SoundDefine } from '../../Sound/SoundDefine';\r\nimport { UserService } from '../Services/UserService';\r\nimport { User } from '../Models/User';\r\nimport { TipsManager } from './TipsManager';\r\nimport { RandomUtil } from './Battle/Utils/RandomUtil';\r\nconst { Result, UserLoginResponse, NUser } = proto;\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UILogin')\r\nexport class UILogin extends Component {\r\n\r\n    @property(EditBox)\r\n    public username: EditBox = null as unknown as EditBox;\r\n    @property(EditBox)\r\n    public password: EditBox = null as unknown as EditBox;\r\n    @property(Button)\r\n    public buttonLogin: Button = null as unknown as Button;\r\n    @property(Button)\r\n    public buttonRegister: Button = null as unknown as Button;\r\n\r\n    async start() {\r\n        this.username[\"_impl\"]._edTxt.autocomplete = \"off\";\r\n\r\n        SoundManager.Instance.PlayMusic(SoundDefine.Music_Login);\r\n        // this.username.string=\"123\";\r\n        // this.password.string=\"123\";\r\n        //随机数测试\r\n        // RandomUtil.seed=6;\r\n        // console.log('随机数1：'+RandomUtil.limit(0, 1))\r\n        // console.log('随机数2：'+RandomUtil.limit(0, 1))\r\n        // console.log('随机数3：'+RandomUtil.limit(0, 1))\r\n        // RandomUtil.seed=6;\r\n        // console.log('随机数1：'+RandomUtil.limit(0, 1))\r\n        // console.log('随机数2：'+RandomUtil.limit(0, 1))\r\n        // console.log('随机数3：'+RandomUtil.limit(0, 1))\r\n\r\n    }\r\n\r\n    /**\r\n     * 登录点击\r\n     */\r\n    public OnClickLogin(): void {\r\n        console.log('OnClickLogin')\r\n        if (!this.username.string) {\r\n            MessageBox.Show(\"请输入账号\");\r\n            return;\r\n        }\r\n        if (!this.password.string) {\r\n            MessageBox.Show(\"请输入密码\");\r\n            return;\r\n        }\r\n        SoundManager.Instance.PlaySound(SoundDefine.SFX_UI_Click);\r\n        // Enter Game\r\n        UserService.Instance.SendLogin(this.username.string, this.password.string);\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 点击注册\r\n     */\r\n    public OnClickRegister(): void {\r\n        if (!this.username.string) {\r\n            MessageBox.Show(\"请输入账号\");\r\n            return;\r\n        }\r\n        if (!this.password.string) {\r\n            MessageBox.Show(\"请输入密码\");\r\n            return;\r\n        }\r\n        SoundManager.Instance.PlaySound(SoundDefine.SFX_UI_Click);\r\n        UserService.Instance.SendRegister(this.username.string, this.password.string);\r\n    }\r\n\r\n}\r\n"]}