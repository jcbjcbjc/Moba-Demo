{"version":3,"sources":["file:///D:/LearningFrameWork/MobaYan/Moba/Src/Client/assets/Scripts/Network/MessageDispatch.ts"],"names":["MessageDispatch","proto","EventManager","EventType","BattleManager","NetMessage","NetMessageResponse","Dispatch","message","isBattleServer","repairFrameRes","Instance","isAddListener","OnRepairFrame","frameHandleRes","OnFrameHandle","percentForwardRes","console","log","dispatch","OnPercentForward","liveFrameRes","OnLiveFrame","userRegister","OnUserRegister","userLogin","OnUserLogin","unLockRes","OnUnLock","statusNotify","OnStatusNotify","characterDetail","OnCharacterDetail","switchCharacterRes","OnSwitchCharacter","attrPromote","OnAttrPromoteInfo","bagHandleRes","OnBagHandle","itemBuy","OnItemBuy","combatPowerRanking","OnCombatPowerRanking","followRes","OnFollowRes","userStatusChangeRes","OnUserStatusChange","queryTranRes","OnQueryTran","buyTranRes","OnBuyTran","heartBeatRes","OnHeartBeat","offerPriceRes","OnOfferPrice","auctionRes","OnAuction","getAuctionListRes","OnGetAuctionList","tipsRes","OnTips","myRoomRes","OnMyRoom","inviteRes","OnInviteResponse","inviteReq","OnInviteRequest","kickOutRes","OnKickOut","roomStartGameRes","OnRoomStartGame","nickNameSearchRes","OnNickNameSearch","addRoomReq","OnAddRoomRequest","addRoomRes","OnAddRoomResponse","outRoomRes","OnOutRoom","followListRes","OnFollowList","chatRes","OnChat","userStatusQueryRes","OnUserStatusQuery","startMatchRes","OnStartMatch","matchRes","OnMatchResponse","addLiveRes","OnAddLiveResponse","validateOpenRoomRes","OnValidateOpenRoom"],"mappings":"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","sourcesContent":["import proto  from '../../Proto/proto.js';\r\nconst { NetMessage, NetMessageResponse }=proto;\r\nimport { EventManager } from '../UI/Common/Event/EventManager';\r\nimport { EventType } from '../UI/Common/Event/EventType';\r\nimport { BattleManager } from '../UI/Battle/Managers/BattleManager';\r\n\r\n/**\r\n * 消息分发器\r\n */\r\nexport class MessageDispatch{\r\n\r\n    public static Dispatch(message:any):void{\r\n        //战斗服\r\n        let isBattleServer:boolean=false;\r\n        if(message.repairFrameRes){\r\n            if(BattleManager.Instance && BattleManager.Instance.isAddListener){\r\n                 BattleManager.Instance.OnRepairFrame(message.repairFrameRes);\r\n            }\r\n            //   EventManager.Instance.dispatch(EventType.OnRepairFrame,message.repairFrameRes);\r\n            isBattleServer=true;\r\n        }\r\n        if(message.frameHandleRes){\r\n            if(BattleManager.Instance && BattleManager.Instance.isAddListener){\r\n                 BattleManager.Instance.OnFrameHandle(message.frameHandleRes);\r\n            }\r\n            // EventManager.Instance.dispatch(EventType.OnFrameHandle,message.frameHandleRes);\r\n            isBattleServer=true;\r\n        }\r\n        if(message.percentForwardRes){\r\n            console.log('message.percentForwardRes='+message.percentForwardRes)\r\n            EventManager.Instance.dispatch(EventType.OnPercentForward,message.percentForwardRes);\r\n            isBattleServer=true;\r\n        }\r\n        if(message.liveFrameRes){\r\n            if(BattleManager.Instance && BattleManager.Instance.isAddListener){\r\n                 BattleManager.Instance.OnLiveFrame(message.liveFrameRes);\r\n            }\r\n            // EventManager.Instance.dispatch(EventType.OnLiveFrame,message.liveFrameRes);\r\n            isBattleServer=true;\r\n        }\r\n        if(isBattleServer){\r\n            return;\r\n        }\r\n        //大厅服\r\n        if(message.userRegister){\r\n            EventManager.Instance.dispatch(EventType.OnUserRegister,message.userRegister);\r\n        }\r\n        if(message.userLogin){\r\n            EventManager.Instance.dispatch(EventType.OnUserLogin,message.userLogin);\r\n        }\r\n        if(message.unLockRes){\r\n            EventManager.Instance.dispatch(EventType.OnUnLock,message.unLockRes);\r\n        }\r\n        if(message.statusNotify){\r\n            EventManager.Instance.dispatch(EventType.OnStatusNotify,message.statusNotify);\r\n        }\r\n        if(message.characterDetail){\r\n            EventManager.Instance.dispatch(EventType.OnCharacterDetail,message.characterDetail);\r\n        }\r\n        if(message.switchCharacterRes){\r\n            EventManager.Instance.dispatch(EventType.OnSwitchCharacter,message.switchCharacterRes);\r\n        }\r\n        if(message.attrPromote){\r\n            EventManager.Instance.dispatch(EventType.OnAttrPromoteInfo,message.attrPromote);\r\n        }\r\n        if(message.bagHandleRes){\r\n            EventManager.Instance.dispatch(EventType.OnBagHandle,message.bagHandleRes);\r\n        }\r\n        if(message.itemBuy){\r\n            EventManager.Instance.dispatch(EventType.OnItemBuy,message.itemBuy);\r\n        }\r\n        if(message.combatPowerRanking){\r\n            EventManager.Instance.dispatch(EventType.OnCombatPowerRanking,message.combatPowerRanking);\r\n        }\r\n        if(message.followRes){\r\n            EventManager.Instance.dispatch(EventType.OnFollowRes,message.followRes);\r\n        }\r\n        if(message.userStatusChangeRes){\r\n            EventManager.Instance.dispatch(EventType.OnUserStatusChange,message.userStatusChangeRes);\r\n        }\r\n        if(message.queryTranRes){\r\n            EventManager.Instance.dispatch(EventType.OnQueryTran,message.queryTranRes);\r\n        }\r\n        if(message.buyTranRes){\r\n            EventManager.Instance.dispatch(EventType.OnBuyTran,message.buyTranRes);\r\n        }\r\n        if(message.heartBeatRes){\r\n            EventManager.Instance.dispatch(EventType.OnHeartBeat,message.heartBeatRes);\r\n        }\r\n        if(message.offerPriceRes){\r\n            EventManager.Instance.dispatch(EventType.OnOfferPrice,message.offerPriceRes);\r\n        }\r\n        if(message.auctionRes){\r\n            EventManager.Instance.dispatch(EventType.OnAuction,message.auctionRes);\r\n        }\r\n        if(message.getAuctionListRes){\r\n            EventManager.Instance.dispatch(EventType.OnGetAuctionList,message.getAuctionListRes);\r\n        }\r\n        if(message.tipsRes){\r\n            EventManager.Instance.dispatch(EventType.OnTips,message.tipsRes);\r\n        }\r\n        if(message.myRoomRes){\r\n            EventManager.Instance.dispatch(EventType.OnMyRoom,message.myRoomRes);\r\n        }\r\n        if(message.inviteRes){\r\n            EventManager.Instance.dispatch(EventType.OnInviteResponse,message.inviteRes);\r\n        }\r\n        if(message.inviteReq){\r\n            EventManager.Instance.dispatch(EventType.OnInviteRequest,message.inviteReq);\r\n        }\r\n        if(message.kickOutRes){\r\n            EventManager.Instance.dispatch(EventType.OnKickOut,message.kickOutRes);\r\n        }\r\n        if(message.roomStartGameRes){\r\n            EventManager.Instance.dispatch(EventType.OnRoomStartGame,message.roomStartGameRes);\r\n        }\r\n        if(message.nickNameSearchRes){\r\n            EventManager.Instance.dispatch(EventType.OnNickNameSearch,message.nickNameSearchRes);\r\n        }\r\n        if(message.addRoomReq){\r\n            EventManager.Instance.dispatch(EventType.OnAddRoomRequest,message.addRoomReq);\r\n        }\r\n        if(message.addRoomRes){\r\n            EventManager.Instance.dispatch(EventType.OnAddRoomResponse,message.addRoomRes);\r\n        }\r\n        if(message.outRoomRes){\r\n            EventManager.Instance.dispatch(EventType.OnOutRoom,message.outRoomRes);\r\n        }\r\n        if(message.followListRes){\r\n            EventManager.Instance.dispatch(EventType.OnFollowList,message.followListRes);\r\n        }\r\n        if(message.chatRes){\r\n            EventManager.Instance.dispatch(EventType.OnChat,message.chatRes);\r\n        }\r\n        if(message.userStatusQueryRes){\r\n            EventManager.Instance.dispatch(EventType.OnUserStatusQuery,message.userStatusQueryRes);\r\n        }\r\n        if(message.startMatchRes){\r\n            EventManager.Instance.dispatch(EventType.OnStartMatch,message.startMatchRes);\r\n        }\r\n        if(message.matchRes){\r\n            EventManager.Instance.dispatch(EventType.OnMatchResponse,message.matchRes);\r\n        }\r\n        if(message.addLiveRes){\r\n            EventManager.Instance.dispatch(EventType.OnAddLiveResponse,message.addLiveRes);\r\n        }\r\n        if(message.validateOpenRoomRes){\r\n            EventManager.Instance.dispatch(EventType.OnValidateOpenRoom,message.validateOpenRoomRes);\r\n        }\r\n    }\r\n}"]}